<div class="container">
  <ng-container>
    <div class="row">
      <div class="col-md-7 col-sm-12">
        <form [formGroup]="userFormGroup">
          <!-- user details -->
          <div class="row">
            <div class="col-sm-12">
              <ecoeden-divider label="User details" color="#fafafa"></ecoeden-divider>
            </div>
            <div class="col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>User name</mat-label>
                <input type="text" matInput formControlName="userName" />
                <mat-spinner matSuffix diameter="20" color="primary" *ngIf="isUserNameSearching"></mat-spinner>
                <mat-error>{{ getValidationMessage('userName') }}</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>Password</mat-label>
                <input [type]="hidePassword ? 'password' : 'text'" matInput formControlName="password" />
                <button mat-icon-button matSuffix (click)="toggle($event, 'password')">
                  <span class="material-symbols-outlined mb-3">{{hidePassword ? 'visibility_off' : 'visibility'}}</span>
                </button>
                <mat-error>{{ getValidationMessage('password') }}</mat-error>
              </mat-form-field>
            </div>
            <div class="col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>Confirm password</mat-label>
                <input [type]="hideConfirrmPassword ? 'password' : 'text'" matInput formControlName="confirmPassword" />
                <button mat-icon-button matSuffix (click)="toggle($event, 'cpassword')">
                  <span class="material-symbols-outlined mb-3">{{hideConfirrmPassword ? 'visibility_off' : 'visibility'}}</span>
                </button>
                <mat-error>{{ getValidationMessage('confirmPassword') }}</mat-error>
              </mat-form-field>
            </div>
          </div>

          <!-- Divider -->
          <div class="row">
            <div class="col-sm-12">
              <ecoeden-divider label="Profile details" color="#fafafa"></ecoeden-divider>
            </div>
          </div>

          <!-- Profiile details -->
          <div class="row mt-3">
            <div class="col-md-6 col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>First name</mat-label>
                <input type="text" autoCapitalize matInput formControlName="firstName" />
                <mat-error>{{ getValidationMessage('firstName') }}</mat-error>
              </mat-form-field>
            </div>
            <div class="col-md-6 col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>Last name</mat-label>
                <input type="text" matInput formControlName="lastName" autoCapitalize />
                <mat-error>{{ getValidationMessage('lastName') }}</mat-error>
              </mat-form-field>
            </div>
            <div class="col-md-6 col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>Email</mat-label>
                <input type="email" matInput formControlName="email" />
                <mat-error>{{ getValidationMessage('email') }}</mat-error>
              </mat-form-field>
            </div>
            <div class="col-md-6 col-sm-12">
              <mat-form-field appearance="outline">
                <mat-label>Roles</mat-label>
                <mat-select formControlName="roles" multiple>
                  <mat-option *ngFor="let role of userRoles" [value]="role">{{ role }}</mat-option>
                </mat-select>
                <mat-error>{{ getValidationMessage('roles') }}</mat-error>
              </mat-form-field>
            </div>
          </div>
        </form>
      </div>
      <div class="col-md-5 col-sm-12">
        <ecoeden-divider label="User avatar" color="#fafafa"></ecoeden-divider>
        <div class="mt-5">
          <ecoeden-file-uploader [uploader]="uploader"></ecoeden-file-uploader>
        </div>
      </div>
      <div class="col-md-7 col-sm-12">
        <ecoeden-button (next)="onSubmit()" [isLoading]="isFormSubmitting" [type]="ButtonType.info" [isDisabled]="isFormSubmitting"
          >Create</ecoeden-button
        >
      </div>
    </div>
  </ng-container>
</div>
